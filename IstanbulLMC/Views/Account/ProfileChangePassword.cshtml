@{
    ViewBag.Title = "Profile and Change Password";
}

<div class="container">
    <div class="row">
        <!-- Sidebar with choices -->
        <div class="col-md-3">
            <ul class="list-group">
                <li class="list-group-item clickable" data-target="profile">Profile</li>
                <li class="list-group-item clickable" data-target="changePassword">Change Password</li>
            </ul>
        </div>
        <!-- Partial view container -->
        <div class="col-md-9">
            <div id="profilePartial" class="partial-container">
                @Html.Partial("_Profile") <!-- Include the Profile Partial View -->
            </div>
            <div id="changePasswordPartial" class="partial-container">
                @Html.Partial("_ChangePassword") <!-- Include the Change Password Partial View -->
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        // Function to show the selected partial view
        function showPartialView(target) {
            $(".partial-container").hide();
            $("#" + target + "Partial").show();
            sessionStorage.setItem("selectedPartial", target);
        }

        // Check if there is a selected partial view in sessionStorage
        var selectedPartial = sessionStorage.getItem("selectedPartial");

        // Show the selected partial view or default to "profile"
        if (selectedPartial) {
            showPartialView(selectedPartial);
        } else {
            showPartialView("profile");
        }

        // Handle click events on the sidebar choices
        $(".clickable").click(function () {
            var target = $(this).data("target");
            showPartialView(target);
        });
    });
</script>


<style>
    .container {
        margin-top: 200px;
        margin-bottom: 300px;
    }

    /* Style for the sidebar */
    .list-group {
        cursor: pointer;
    }

    /* Style for the active sidebar choice */
    .list-group-item.active {
        background-color: #007bff;
        color: #fff;
    }

    /* Style for the partial view container */
    .partial-container {
        padding: 20px;
        border: 1px solid #ccc;
        background-color: #f9f9f9;
        text-align: left;
    }
</style>
